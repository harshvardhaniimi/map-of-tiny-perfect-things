/* ===========================
   Global Base Styles
   =========================== */

/* Reset and base */
*,
*::before,
*::after {
  box-sizing: border-box;
}

html {
  /* Prevent font size inflation on mobile */
  -moz-text-size-adjust: none;
  -webkit-text-size-adjust: none;
  text-size-adjust: none;
}

body {
  margin: 0;
  padding: 0;
  font-family: 'HelveticaNeue', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
    sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;

  /* Prevent overscroll bounce on iOS */
  overscroll-behavior: none;

  /* Ensure full height */
  min-height: 100vh;
  min-height: -webkit-fill-available;
}

html {
  height: -webkit-fill-available;
}

#root {
  height: 100%;
  width: 100%;
}

/* Improve tap highlight on mobile */
* {
  -webkit-tap-highlight-color: transparent;
}

/* Smooth scrolling when supported */
@media (prefers-reduced-motion: no-preference) {
  html {
    scroll-behavior: smooth;
  }
}

/* Better touch action for map */
.mapboxgl-map {
  touch-action: pan-x pan-y;
}

/* Code font */
code {
  font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New',
    monospace;
}

/* Fix button and input styling */
button,
input,
select,
textarea {
  font-family: inherit;
  font-size: inherit;
}

/* Remove default button styles */
button {
  background: none;
  border: none;
  cursor: pointer;
}

/* Ensure links are properly styled */
a {
  color: inherit;
  text-decoration: none;
}

a:hover {
  text-decoration: underline;
}

/* Improve focus visibility */
:focus-visible {
  outline: 2px solid #3498DB;
  outline-offset: 2px;
}

/* Hide focus outline for mouse users */
:focus:not(:focus-visible) {
  outline: none;
}

/* Selection color */
::selection {
  background: rgba(52, 152, 219, 0.3);
}

/* Mapbox attribution styling for mobile */
@media (max-width: 576px) {
  .mapboxgl-ctrl-attrib {
    font-size: 10px !important;
  }

  .mapboxgl-ctrl-attrib.mapboxgl-compact {
    min-height: 20px;
  }

  .mapboxgl-ctrl-logo {
    width: 60px !important;
  }
}

/* Ensure Mapbox controls don't overlap with our UI */
.mapboxgl-ctrl-top-right {
  top: 10px;
  right: 10px;
}

@media (max-width: 576px) {
  .mapboxgl-ctrl-top-right {
    top: 8px;
    right: 8px;
  }
}

/* Improve Mapbox navigation control on touch devices */
@media (hover: none) and (pointer: coarse) {
  .mapboxgl-ctrl-zoom-in,
  .mapboxgl-ctrl-zoom-out,
  .mapboxgl-ctrl-compass {
    width: 36px !important;
    height: 36px !important;
  }
}
